<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple To‑Do List</title>
  <style>
    :root {
      --bg: #0f172a;
      --panel: #111827;
      --muted: #9ca3af;
      --text: #e5e7eb;
      --accent: #6366f1;
      --accent-2: #22c55e;
      --danger: #ef4444;
      --border: #1f2937;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 80% -10%, rgba(99,102,241,0.25), transparent),
                  radial-gradient(1000px 600px at -30% 10%, rgba(34,197,94,0.20), transparent),
                  var(--bg);
      color: var(--text);
      display: grid;
      place-items: center;
      padding: 24px;
    }
    .app {
      width: 100%;
      max-width: 720px;
      background: rgba(17,24,39,0.75);
      backdrop-filter: blur(8px);
      border: 1px solid var(--border);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
      overflow: hidden;
    }
    header {
      padding: 18px 20px;
      border-bottom: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
    }
    header h1 {
      font-size: 18px;
      margin: 0;
      letter-spacing: 0.2px;
      display: flex;
      align-items: center;
      gap: 10px;
    }
    header h1 .dot {
      width: 10px; height: 10px; border-radius: 50%;
      background: linear-gradient(45deg, var(--accent), var(--accent-2));
      display: inline-block;
      box-shadow: 0 0 12px rgba(99,102,241,0.8);
    }
    .counts {
      font-size: 12px;
      color: var(--muted);
    }
    .controls {
      padding: 16px 16px;
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 10px;
      border-bottom: 1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.05));
    }
    .input {
      position: relative;
    }
    .input input {
      width: 100%;
      padding: 12px 44px 12px 12px;
      background: #0b1020;
      color: var(--text);
      border: 1px solid #1e293b;
      border-radius: 10px;
      outline: none;
      transition: border-color 120ms ease, box-shadow 120ms ease;
    }
    .input input::placeholder { color: #6b7280; }
    .input input:focus {
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59,130,246,0.2);
    }
    .input .kbd {
      position: absolute;
      right: 8px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 11px;
      color: #94a3b8;
      background: #0a0f1e;
      border: 1px solid #1f2937;
      border-radius: 6px;
      padding: 2px 6px;
    }
    button {
      appearance: none;
      border: none;
      background: linear-gradient(180deg, #6366f1, #4f46e5);
      color: white;
      padding: 12px 16px;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.06s ease, filter 0.2s ease, box-shadow 0.2s ease;
      box-shadow: 0 6px 14px rgba(79,70,229,0.35);
    }
    button:hover { filter: brightness(1.05); }
    button:active { transform: translateY(1px); }
    button.secondary {
      background: #0b1020;
      color: #cbd5e1;
      border: 1px solid #1f2937;
      box-shadow: none;
    }
    ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .empty {
      padding: 28px 20px;
      color: var(--muted);
      text-align: center;
      font-size: 14px;
      border-top: 1px dashed #1f2937;
    }
    .item {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 10px;
      padding: 12px 14px;
      border-bottom: 1px solid #101827;
      background: rgba(12,18,34,0.6);
    }
    .item:last-child { border-bottom: none; }
    .task {
      display: flex;
      align-items: center;
      gap: 12px;
      min-width: 0;
    }
    .task input[type="checkbox"] {
      width: 18px; height: 18px;
      accent-color: #22c55e;
      cursor: pointer;
    }
    .task label {
      user-select: none;
      cursor: pointer;
      word-break: break-word;
    }
    .item.done label {
      text-decoration: line-through;
      color: #94a3b8;
    }
    .actions {
      display: flex;
      gap: 6px;
    }
    .icon-btn {
      background: #0b1020;
      border: 1px solid #1f2937;
      color: #e5e7eb;
      padding: 8px 10px;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s ease, border-color 0.2s ease, transform 0.06s ease;
    }
    .icon-btn:hover { background: #0e1426; border-color: #263249; }
    .icon-btn:active { transform: translateY(1px); }
    .icon-btn.delete { color: #fecaca; border-color: #3b0b0b; }
    .icon-btn.delete:hover { background: #220a0a; border-color: #7f1d1d; }
    .footer {
      padding: 10px 14px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-top: 1px solid var(--border);
      color: var(--muted);
      font-size: 13px;
      background: rgba(10,16,32,0.65);
    }
    .filters {
      display: flex;
      gap: 6px;
    }
    .filter-btn {
      padding: 6px 10px;
      border-radius: 8px;
      border: 1px solid #1f2937;
      background: #0b1020;
      color: #cbd5e1;
      cursor: pointer;
      font-size: 12px;
    }
    .filter-btn.active {
      border-color: #334155;
      background: #0e1426;
      color: #e2e8f0;
    }
    @media (max-width: 520px) {
      .controls { grid-template-columns: 1fr; }
      .footer { flex-direction: column; gap: 8px; align-items: stretch; }
      .filters { justify-content: space-between; }
    }
    .sr-only {
      position: absolute !important;
      height: 1px; width: 1px;
      overflow: hidden; clip: rect(1px,1px,1px,1px);
      white-space: nowrap; border: 0; padding: 0; margin: -1px;
    }
  </style>
</head>
<body>
  <main class="app" aria-labelledby="app-title">
    <header>
      <h1 id="app-title"><span class="dot" aria-hidden="true"></span> To‑Do</h1>
      <div class="counts" id="counts" aria-live="polite"></div>
    </header>

    <section class="controls" aria-label="Add a new task">
      <div class="input">
        <input id="new-task" type="text" placeholder="What needs to be done?" autocomplete="off" aria-label="Task name" />
        <span class="kbd" aria-hidden="true">Enter ↵</span>
      </div>
      <button id="add-btn" type="button" title="Add task">Add Task</button>
    </section>

    <ul id="list" aria-live="polite" aria-label="Tasks list"></ul>
    <div id="empty" class="empty" hidden>You're all caught up. Add a task to get started.</div>

    <div class="footer">
      <div class="filters" role="radiogroup" aria-label="Filter tasks">
        <button class="filter-btn active" data-filter="all" role="radio" aria-checked="true">All</button>
        <button class="filter-btn" data-filter="active" role="radio" aria-checked="false">Active</button>
        <button class="filter-btn" data-filter="done" role="radio" aria-checked="false">Done</button>
      </div>
      <div>
        <button id="clear-done" class="secondary" type="button" title="Remove all completed tasks">Clear Completed</button>
      </div>
    </div>

    <p id="announce" class="sr-only" aria-live="polite"></p>
  </main>

  <script>
    (function () {
      const storeKey = "todo-list-v1";
      let tasks = load();
      let currentFilter = "all";

      const els = {
        input: document.getElementById("new-task"),
        add: document.getElementById("add-btn"),
        list: document.getElementById("list"),
        empty: document.getElementById("empty"),
        counts: document.getElementById("counts"),
        filters: document.querySelectorAll(".filter-btn"),
        clearDone: document.getElementById("clear-done"),
        announce: document.getElementById("announce"),
      };

      function uid() {
        return Date.now().toString(36) + Math.random().toString(36).slice(2, 7);
      }

      function load() {
        try {
          const json = localStorage.getItem(storeKey);
          return json ? JSON.parse(json) : [];
        } catch { return []; }
      }

      function save() {
        localStorage.setItem(storeKey, JSON.stringify(tasks));
      }

      function addTask(text) {
        const t = text.trim();
        if (!t) return;
        tasks.unshift({ id: uid(), text: t, done: false });
        save();
        render();
        announce('Added task: ' + t);
      }

      function toggleTask(id) {
        tasks = tasks.map(task => task.id === id ? { ...task, done: !task.done } : task);
        save();
        render();
      }

      function deleteTask(id) {
        const t = tasks.find(x => x.id === id);
        tasks = tasks.filter(task => task.id !== id);
        save();
        render();
        if (t) announce('Deleted task: ' + t.text);
      }

      function clearCompleted() {
        const count = tasks.filter(t => t.done).length;
        tasks = tasks.filter(t => !t.done);
        save();
        render();
        if (count) announce('Cleared ' + count + ' completed ' + (count === 1 ? 'task' : 'tasks'));
      }

      function setFilter(filter) {
        currentFilter = filter;
        els.filters.forEach(btn => {
          const active = btn.dataset.filter === filter;
          btn.classList.toggle('active', active);
          btn.setAttribute('aria-checked', active ? 'true' : 'false');
        });
        render();
      }

      function filtered() {
        if (currentFilter === "active") return tasks.filter(t => !t.done);
        if (currentFilter === "done") return tasks.filter(t => t.done);
        return tasks;
      }

      function render() {
        const data = filtered();
        els.list.innerHTML = "";
        if (data.length === 0) {
          els.empty.hidden = false;
        } else {
          els.empty.hidden = true;
        }
        data.forEach(task => {
          const li = document.createElement("li");
          li.className = "item" + (task.done ? " done" : "");
          li.dataset.id = task.id;

          const taskDiv = document.createElement("div");
          taskDiv.className = "task";

          const checkbox = document.createElement("input");
          checkbox.type = "checkbox";
          checkbox.checked = task.done;
          checkbox.id = "chk-" + task.id;
          checkbox.addEventListener("change", () => toggleTask(task.id));

          const label = document.createElement("label");
          label.setAttribute("for", checkbox.id);
          label.textContent = task.text;

          taskDiv.appendChild(checkbox);
          taskDiv.appendChild(label);

          const actions = document.createElement("div");
          actions.className = "actions";

          const delBtn = document.createElement("button");
          delBtn.className = "icon-btn delete";
          delBtn.type = "button";
          delBtn.title = "Delete task";
          delBtn.textContent = "Delete";
          delBtn.addEventListener("click", () => deleteTask(task.id));

          actions.appendChild(delBtn);

          li.appendChild(taskDiv);
          li.appendChild(actions);

          els.list.appendChild(li);
        });

        const total = tasks.length;
        const done = tasks.filter(t => t.done).length;
        const active = total - done;
        els.counts.textContent = total === 0
          ? "No tasks"
          : `${active} active • ${done} done • ${total} total`;
      }

      function announce(msg) {
        els.announce.textContent = msg;
      }

      // Events
      els.add.addEventListener("click", () => {
        addTask(els.input.value);
        els.input.value = "";
        els.input.focus();
      });
      els.input.addEventListener("keydown", (e) => {
        if (e.key === "Enter") {
          addTask(els.input.value);
          els.input.value = "";
        }
      });
      els.filters.forEach(btn => {
        btn.addEventListener("click", () => setFilter(btn.dataset.filter));
      });
      els.clearDone.addEventListener("click", clearCompleted);

      // Initial render
      render();

      // Demo seed if empty first time
      if (tasks.length === 0) {
        addTask("Welcome! Add your first task.");
        addTask("Click the checkbox to mark as done.");
        addTask("Remove a task with the Delete button.");
      }
    })();
  </script>
</body>
</html>